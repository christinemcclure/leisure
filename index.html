<!DOCTYPE>
<html>
  <head>
    <meta charset="utf-8">
    <title>Leisure Reading</title>
    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="/css/bootstrap-theme.min.css" rel="stylesheet">
          
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script>
      $(document).ready(function(){
        var Books = 
          [
              {
                  "isbn": "9780439023511",
                  "title": "Mockingjay",
                  "author": "Suzanne Collins",
                  "subject": "Insurgency--Juvenile fiction",
                  "description": "Against all odds, Katniss Everdeen has survived the Hunger Games twice. But now that she's made it out of the bloody arena alive, she's still not safe. A revolution is unfolding, and it is up to Katniss to accept responsibility for countless lives and to change the course of the future of Panem."
              },
              {
                  "isbn": "9787506358026",
                  "title": " Geng Fang yi = The hunger games",
                  "author": "Suzanne Collins",
                  "subject": "Survival--Juvenile fiction",
                  "description": "In a future North America, where the rulers of Panem maintain control through an annual televised survival competition pitting young people from each of the twelve districts against one another, sixteen-year-old Katniss's skills are put to the test when she voluntarily takes her younger sister's place."
              },
              {
                  "isbn": "0439023491",
                  "title": "Catching Fire",
                  "author": "Suzanne Collins",
                  "subject": "Survival--Juvenile fiction",
                  "description": "By winning the annual Hunger Games, District 12 tributes Katniss Everdeen and Peeta Mellark have secured a life of safety and plenty for themselves and their families, but because they won by defying the rules, they unwittingly become the faces of an impending rebellion."
              },
              {
                  "isbn": "1451665474",
                  "title": "Make your brain smarter : increase your brain's creativity, energy, and focus",
                  "author": "Sandra Bond Chapman with Shelly Kirkland",
                  "subject": "Thought and thinking",
                  "description": "The most powerful, most staggeringly complex machine ever created is all in your head. Our brain is the most adaptable, modifiable organ in our body, and yet it is the organ we most likely give the least attention. Many individuals who are concerned with having a physically fit body stop their \"workout\" at the neck. In the past five years brain scientists have discovered much more about how the brain works, including that it can be trained to perform better than ever before. You are never too young or too old to adopt healthy brain habits that strengthen the brain's capacity to think smarter. In Make Your Brain Smarter, renowned cognitive neuroscientist Dr. Sandra Bond Chapman introduces you to the very latest research in brain science and shows you how to tailor a program to fit your own needs. In this all-inclusive book, Dr. Chapman delivers a comprehensive \"fitness\" plan that you can use to \"exercise\" your way to a healthier brain. You will find scientifically proven strategies to train deep, insightful, and strategic thinking. You will discover why memory is not the most important measure of brain function, why IQ is an outdated, misleading index of brain potential, and how to become a higher brain performer."
              },
              {
                  "isbn": "9780307396440",
                  "title": "Martha Stewart's cooking school : lessons and recipes for the home cook",
                  "author": "by Martha Stewart with Sarah Carey",
                  "subject": "Cookery",
                  "description": " Culinary master Martha Stewart teaches you how to hold a chef's knife, select the very best ingredients, truss a chicken, make a perfect pot roast, prepare every vegetable, bake a flawless pie crust, and much more. Includes 200 all-new recipes with step-by-step photographs."
              },
              {
                  "isbn": "1439164967",
                  "title": "You, on a diet : the owner's manual for waist management",
                  "author": "Michael F. Roizen and Mehmet C. Oz ",
                  "subject": "Low-fat diet",
                  "description": "For the first time in history, scientists are uncovering astounding medical evidence about dieting and why so many people struggle with weight issues. This work translates cutting-edge information into the best weapon against fat: knowledge."
              },
              {
                  "isbn": "0470423544",
                  "title": "So easy : luscious, healthy recipes for every meal of the week ",
                  "author": "Ellie Krieger",
                  "subject": "Cookery",
                  "description": "The weekly host of the Food Network's \"Healthy Appetite\" provides dishes that tackle every possible mealtime situation. Illustrated with 50 full-color photos, her bestselling cookbook features 150 delicious, easy-to-prepare, fortifying recipes for on-the-go and at home--from cheddar apple quesadilla, pork piccata with spinach and garlic mashed potatoes, marinated flank steak with blue cheese sauce to chocolate-cream cheese panini bites and fig and ginger truffles."
              },
              {
                  "isbn": "0307474852",
                  "title": "My Life in France",
                  "author": "Julia Child with Alex Prud'Homme",
                  "subject": "Cookery, French",
                  "description": "Here is the captivating story of Julia Child's years in France, where she fell in love with French food and found \"her true calling.\" From the moment she and her husband Paul, who worked for the USIS, arrived in the fall of 1948, Julia had an awakening that changed her life. Soon this tall, outspoken gal from Pasadena, California, who didn't speak a word of French and knew nothing about the country, was steeped in the language, chatting with purveyors in the local markets, and enrolled in the Cordon Bleu. She teamed up with two fellow gourmettes, Simone Beck and Louisette Bertholle, to help them with a book on French cooking for Americans. Filled with her husband's beautiful black-and-white photographs as well as family snapshots, this memoir is laced with wonderful stories about the French character, particularly in the world of food, and the way of life that Julia embraced so wholeheartedly. Bon appÃ¢etit!--From publisher description."
              }
          ];

        function emptyContainer(){

        }

        function loadRandomBook(){

            var truncLen = 150;
            var numBooks = Books.length;
            var randomNum=Math.floor(Math.random()*(numBooks))
            var book = Books[randomNum];
            var randomBookDescText = book.description;
            if (randomBookDescText.length > truncLen) {
               var descTrunc = randomBookDescText.substring(0,truncLen) + "...";
            }


            emptyContainer();

            $('#bookInfo').append($('<p>').html('Title: '+book.title+'<br />Author: '+book.author));

            if (descTrunc){
              $('#bookDescText').append($('<p>').html(descTrunc));
              $('#bookDescText').append($('<p id=\'showFull\'>').html('Show full description'));
            }
            else {
              $('#bookDescText').append($('<p>').html('Description: '+randomBookDescText));
            }

            $('#showOPACbtn').html('<a href=\"https://vufind.carli.illinois.edu/vf-iit/Search/Home?lookfor='+book.isbn+'&type=all&start_over=1&submit=Find&search=new\">'+
                  'Is it checked out?</a></p>');         
            $('#newBookBtn').html( '<p>Show me another book</p>');

            $( "#showFull" ).bind( "click", function( ) { // add click event for dynamically-created element
               $('#bookDescText').empty();
               $('#bookDescText').append($('<p>').html(randomBookDescText));
            });
        }

           loadRandomBook();//populate upon loading the page
           
           $('#newBookBtn').click(function(){
               loadRandomBook();
           });
      
    });
    </script>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <h1>The Bookinator</h1>
      </div>
      <div class="row">
        <p>Need a break from studying? Use the Bookinator to generate a random book from Galvin's Leisure Reading collection.</p>
        <p>Here's a random book:</p>
      </div>
      <div class="row">
        <div id="bookInfo"></div>
      </div>
      <div class="row">
        <div class="col-md-2">Description:</div>
        <div id="bookDescText" class="col-md-10"></div>
      </div>
      <div class="row">
        <div class="col-md-2">That looks interesting.</div>
        <div id="showOPACbtn" class="col-md-10"></div>
      </div>
      <div class="row">
        <div class="col-md-2">No, thanks.</div>
        <div id="newBookBtn" class="col-md-10"></div>
      </div>
    </div>
  </body>
</html>
